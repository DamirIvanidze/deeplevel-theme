function elementOrAncestorHasClass(element, className) {
	if (!element || element.length === 0) return false;
	var parent = element;
	do {
		if (parent === document) break;
		if (parent.className.indexOf(className) >= 0) return true;
	} while (parent = parent.parentNode);

	return false;
}

lozad('.lozad', {
    loaded: function(el) {
        el.onload = function() {
    		el.classList.add('loaded');
    		if(elementOrAncestorHasClass(el, 'lozad-wrap')) el.closest('.lozad-wrap').classList.add('h-auto');
    	}
    }
}).observe();